<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Details | ZAKU ACCOUNT STORE</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#FFD700',
                        orange: '#FF4500',
                        dark: '#0f0f0f',
                        darker: '#050505',
                        card: '#1a1a1a'
                    },
                    fontFamily: {
                        orbitron: ['Orbitron', 'sans-serif'],
                        rajdhani: ['Rajdhani', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-darker text-white antialiased">
    <!-- Loader -->
    <div id="loader" class="loader-container">
        <div class="flex flex-col items-center gap-4">
            <span class="loader"></span>
            <h2 class="text-xl font-orbitron text-gold tracking-widest">LOADING ACCOUNT...</h2>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-panel border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0 flex items-center gap-2">
                    <a href="index.html" class="flex items-center gap-2">
                        <i class="fa-solid fa-fire text-3xl text-orange"></i>
                        <span class="font-orbitron font-bold text-2xl tracking-wider text-white">ZAKU <span
                                class="text-gold">STORE</span></span>
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-center space-x-8">
                        <a href="index.html"
                            class="font-rajdhani font-semibold text-lg text-gray-300 hover:text-white hover:border-b-2 hover:border-orange px-3 py-2 transition-all">Home</a>
                        <a href="shop.html"
                            class="font-rajdhani font-semibold text-lg text-gold border-b-2 border-gold px-3 py-2 transition-all">Shop
                            Accounts</a>
                        <a href="contact.html"
                            class="font-rajdhani font-semibold text-lg text-gray-300 hover:text-white hover:border-b-2 hover:border-orange px-3 py-2 transition-all">Contact
                            Us</a>
                        <a href="login.html"
                            class="px-5 py-2 bg-white/10 border border-white/20 rounded-full font-rajdhani font-bold hover:bg-gold hover:text-black hover:border-gold transition-all text-sm">LOGIN</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-btn" type="button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 transition-all">
                        <i class="fa-solid fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu"
            class="md:hidden hidden bg-black/95 backdrop-blur-xl absolute w-full border-b border-white/10">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html"
                    class="text-gray-300 hover:text-white hover:bg-white/5 block px-3 py-4 rounded-md text-base font-medium transition-all">Home</a>
                <a href="shop.html"
                    class="text-gold block px-3 py-4 rounded-md text-base font-medium border-l-4 border-gold bg-white/5">Shop
                    Accounts</a>
                <a href="contact.html"
                    class="text-gray-300 hover:text-white hover:bg-white/5 block px-3 py-4 rounded-md text-base font-medium transition-all">Contact
                    Us</a>
                <a href="login.html"
                    class="text-gold hover:text-white hover:bg-white/5 block px-3 py-4 rounded-md text-base font-bold transition-all border-t border-white/10 mt-2">LOGIN
                    ACCOUNT</a>
            </div>
        </div>
    </nav>

    <!-- Product Details -->
    <section class="pt-32 pb-20 min-h-screen">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <a href="shop.html"
                class="inline-flex items-center text-gray-400 hover:text-gold mb-8 transition-colors font-rajdhani">
                <i class="fa-solid fa-arrow-left mr-2"></i> Back to Shop
            </a>

            <div id="product-detail-container" class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Javascript will load content here -->
                <div class="text-center w-full col-span-2 hidden" id="error-message">
                    <h2 class="text-2xl text-red-500 font-orbitron">Account Not Found!</h2>
                    <p class="text-gray-400 mt-2">The account you are looking for does not exist or has been sold.</p>
                    <a href="shop.html"
                        class="inline-block mt-4 px-6 py-2 bg-gold text-black font-bold rounded hover:bg-orange transition-colors">Browse
                        Shop</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black border-t border-white/10 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <div class="col-span-1 md:col-span-1">
                    <div class="flex items-center gap-2 mb-6">
                        <i class="fa-solid fa-fire text-2xl text-orange"></i>
                        <span class="font-orbitron font-bold text-xl text-white">ZAKU <span
                                class="text-gold">STORE</span></span>
                    </div>
                    <p class="text-gray-500 text-sm mb-6">
                        The ultimate destination for premium Free Fire accounts in Sri Lanka. Trusted, Secure, and Fast.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i
                                class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i
                                class="fa-brands fa-whatsapp"></i></a>
                        <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i
                                class="fa-brands fa-instagram"></i></a>
                    </div>
                </div>

                <div>
                    <h4 class="font-orbitron font-bold text-white mb-6">QUICK LINKS</h4>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li><a href="index.html" class="hover:text-gold transition-colors">Home</a></li>
                        <li><a href="shop.html" class="hover:text-gold transition-colors">Browse Accounts</a></li>
                        <li><a href="contact.html" class="hover:text-gold transition-colors">Sell Your Account</a></li>
                        <li><a href="contact.html" class="hover:text-gold transition-colors">Contact Support</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-orbitron font-bold text-white mb-6">LEGAL</h4>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-gold transition-colors">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-gold transition-colors">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-gold transition-colors">Refund Policy</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-orbitron font-bold text-white mb-6">CONTACT</h4>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li class="flex items-start gap-3">
                            <i class="fa-solid fa-phone text-gold mt-1"></i>
                            <div class="flex flex-col">
                                <span class="text-white">Hasanka</span>
                                <a href="tel:+94760618217">+94 76 061 8217</a>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <i class="fa-solid fa-phone text-gold mt-1"></i>
                            <div class="flex flex-col">
                                <span class="text-white">Kaviya</span>
                                <a href="tel:+94726114480">+94 72 611 4480</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-gray-600 text-sm">Â© 2026 Zaku Account Store. All rights reserved.</p>
                <p class="text-gray-600 text-sm">Designed with <i class="fa-solid fa-heart text-red-600"></i> by
                    Antigravity</p>
            </div>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Specific logic for product details page
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id'));
            const container = document.getElementById('product-detail-container');
            const errorMsg = document.getElementById('error-message');

            if (productId && window.accountsData) {
                const account = window.accountsData.find(a => a.id === productId);

                if (account) {
                    // Update Page Title
                    document.title = `${account.title} | ZAKU ACCOUNT STORE`;

                    // Generate Badges HTML
                    const badgesHtml = Array.isArray(account.badges) ? account.badges.map(badge => `
                        <span class="bg-black/50 text-gold text-sm font-bold px-3 py-1 rounded border border-gold/30">${badge}</span>
                    `).join('') : '';

                    const rankHtml = account.rank ? `
                        <div class="bg-white/5 px-4 py-2 rounded-lg border border-white/10">
                            <span class="block text-gray-400 text-xs uppercase mb-1">Rank</span>
                            <span class="text-white font-bold font-orbitron">${account.rank}</span>
                        </div>
                    ` : '';

                    const evogunHtml = account.evogun ? `
                        <div class="bg-white/5 px-4 py-2 rounded-lg border border-white/10">
                            <span class="block text-orange text-xs uppercase mb-1">Evo Guns</span>
                            <span class="text-white font-bold font-orbitron">${account.evogun}</span>
                        </div>
                    ` : '';

                    // Image Logic
                    const imageList = account.images && account.images.length > 0 ? account.images : [account.image];
                    const mainImage = imageList[0];

                    // Thumbnails HTML
                    const thumbnailsHtml = imageList.length > 0 ? `
                        <div class="grid grid-cols-4 gap-2 mt-4">
                            ${imageList.map((img, index) => `
                                <div onclick="changeMainImage('${img}')" class="cursor-pointer border-2 border-transparent hover:border-gold rounded-lg overflow-hidden transition-all opacity-70 hover:opacity-100">
                                    <img src="${img}" class="w-full h-20 object-cover">
                                </div>
                            `).join('')}
                        </div>
                    ` : '';

                    container.innerHTML = `
                        <!-- Image Section -->
                        <div class="relative group">
                            <div class="glass-panel p-2 rounded-2xl overflow-hidden border-orange/20">
                                <img id="main-product-image" src="${mainImage}" alt="${account.title}" class="w-full h-auto rounded-xl shadow-2xl object-cover transition-all duration-300">
                                <div class="absolute top-6 right-6 flex flex-col gap-2">
                                    ${badgesHtml}
                                </div>
                            </div>
                            <!-- Thumbnails -->
                            ${thumbnailsHtml}
                        </div>

                        <!-- Details Section -->
                        <div>
                            <div class="flex items-center gap-2 mb-2">
                                <span class="bg-gradient-to-r from-orange to-red-600 text-white text-xs font-bold px-2 py-1 rounded uppercase tracking-wider">Verified Stock</span>
                            </div>
                            <h1 class="text-4xl md:text-5xl font-orbitron font-bold text-white mb-4 leading-tight">${account.title}</h1>
                            
                            <div class="flex items-center gap-4 mb-6">
                                <span class="text-3xl font-bold text-gold font-orbitron">${account.price}</span>
                                <div class="h-6 w-px bg-white/20"></div>
                                <div class="flex items-center gap-2 cursor-pointer hover:text-orange transition-colors" id="like-btn" onclick="toggleLike(this, ${account.id})">
                                    <i class="fa-regular fa-thumbs-up text-xl"></i>
                                    <span class="font-bold font-rajdhani text-lg" id="like-count-${account.id}">${account.likes || 0}</span>
                                </div>
                            </div>

                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                                <div class="bg-white/5 px-4 py-2 rounded-lg border border-white/10">
                                    <span class="block text-gray-400 text-xs uppercase mb-1">Level</span>
                                    <span class="text-white font-bold font-orbitron">${account.level}</span>
                                </div>
                                ${rankHtml}
                                ${evogunHtml}
                            </div>

                            <div class="glass-panel p-6 rounded-xl mb-8 border-l-4 border-gold bg-black/40">
                                <h3 class="text-lg font-orbitron font-bold text-white mb-3">ACCOUNT DESCRIPTION</h3>
                                <p class="text-gray-300 font-rajdhani leading-relaxed whitespace-pre-line text-lg">${account.description}</p>
                            </div>

                            <div class="flex flex-col gap-4">
                                <button onclick="openPaymentModal('${account.title}', '${account.price}', '${account.id}')" class="w-full py-4 bg-gradient-to-r from-gold to-orange rounded-xl font-bold text-black text-lg font-orbitron hover:shadow-lg hover:shadow-orange-500/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-3">
                                    <i class="fa-solid fa-cart-shopping text-2xl"></i> BUY NOW (eZ Cash)
                                </button>
                                
                                <a href="https://wa.me/94760618217?text=Hi, I am interested in buying ${encodeURIComponent(account.title)} (ID: ${account.id}) for ${account.price}. Is it available?" target="_blank" class="w-full py-4 bg-gradient-to-r from-[#25D366] to-[#128C7E] rounded-xl font-bold text-white text-lg font-orbitron hover:shadow-lg hover:shadow-green-500/20 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-3">
                                    <i class="fa-brands fa-whatsapp text-2xl"></i> BUY VIA WHATSAPP
                                </a>

                                <a href="tel:+94760618217" class="w-full py-4 bg-white/5 border border-white/10 rounded-xl font-bold text-white text-lg font-orbitron hover:bg-white/10 transition-all flex items-center justify-center gap-3">
                                    <i class="fa-solid fa-phone text-gold"></i> CALL NOW
                                </a>
                            </div>

                            <p class="text-center text-gray-500 text-sm mt-6 font-rajdhani">
                                <i class="fa-solid fa-shield-halved text-gold mr-1"></i> 100% Secure Transaction via Zaku Store Admins
                            </p>
                        </div>
                    `;
                } else {
                    errorMsg.classList.remove('hidden');
                }
            } else {
                errorMsg.classList.remove('hidden');
            }
        });

        // Payment Modal Logic
        let currentAccountDetails = {};

        function openPaymentModal(title, price, id) {
            currentAccountDetails = { title, price, id };
            const modal = document.getElementById('payment-modal');
            const messageLink = document.getElementById('whatsapp-confirm-link');

            // Update link dynamically
            const message = `Hi, I have made the payment via eZ Cash for *${title}* (ID: ${id}) Price: ${price}. Here is the proof.`;
            messageLink.href = `https://wa.me/94760618217?text=${encodeURIComponent(message)}`;

            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        }

        function copyPhoneNumber() {
            navigator.clipboard.writeText("0760618217").then(() => {
                const btn = document.getElementById('copy-btn');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fa-solid fa-check text-green-500"></i> COPIED!';
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                }, 2000);
            });
        }

        // Function to change main image
        function changeMainImage(src) {
            const mainImg = document.getElementById('main-product-image');
            if (mainImg) {
                mainImg.style.opacity = '0.5';
                setTimeout(() => {
                    mainImg.src = src;
                    mainImg.style.opacity = '1';
                }, 200);
            }
        }

        // Simple Like Functionality
        function toggleLike(btn, id) {
            const icon = btn.querySelector('i');
            const countSpan = document.getElementById(`like-count-${id}`);
            let count = parseInt(countSpan.innerText.replace(/,/g, '')); // Remove commas for calculation

            if (icon.classList.contains('fa-regular')) {
                // Like
                icon.classList.remove('fa-regular');
                icon.classList.add('fa-solid', 'text-orange', 'animate-bounce');
                count++;

                // Save to local storage (optional, for persistence across reload)
                localStorage.setItem(`liked_${id}`, 'true');
            } else {
                // Unlike
                icon.classList.remove('fa-solid', 'text-orange', 'animate-bounce');
                icon.classList.add('fa-regular');
                count--;
                localStorage.removeItem(`liked_${id}`);
            }

            // Format number nicely
            countSpan.innerText = count.toLocaleString();

            // Remove animation class after it plays once
            setTimeout(() => {
                icon.classList.remove('animate-bounce');
            }, 1000);
        }

        // Check liked status on load
        window.addEventListener('load', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            if (productId && localStorage.getItem(`liked_${productId}`)) {
                const likeBtn = document.getElementById('like-btn');
                if (likeBtn) {
                    const icon = likeBtn.querySelector('i');
                    icon.classList.remove('fa-regular');
                    icon.classList.add('fa-solid', 'text-orange');
                }
            }
        });
    </script>

    <!-- Payment Modal HTML -->
    <div id="payment-modal" class="fixed inset-0 z-[100] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closePaymentModal()"></div>

        <!-- Modal Content -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md p-4">
            <div class="glass-panel border-gold/30 rounded-2xl p-6 relative animate-float bg-[#1a1a1a]">
                <button onclick="closePaymentModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                    <i class="fa-solid fa-xmark text-2xl"></i>
                </button>

                <div class="text-center mb-6">
                    <h3 class="text-2xl font-orbitron font-bold text-white mb-2">COMPLETE PAYMENT</h3>
                    <p class="text-gray-400 font-rajdhani text-sm">Transfer the amount to secure your account.</p>
                </div>

                <!-- Payment Method Card -->
                <div
                    class="bg-gradient-to-br from-orange/20 to-red-600/20 border border-orange/30 rounded-xl p-6 mb-6 text-center">
                    <!-- Placeholder Logo or Text if image fails -->
                    <div class="bg-white rounded px-4 py-2 inline-block mb-4">
                        <span class="text-[#e30613] font-bold text-2xl italic tracking-tighter">eZ</span><span
                            class="text-[#000] font-bold text-2xl italic tracking-tighter">Cash</span>
                    </div>

                    <p class="text-gray-400 font-rajdhani text-sm uppercase mb-1">Send Money To</p>
                    <div
                        class="flex items-center justify-center gap-3 bg-black/40 rounded-lg p-3 border border-orange/30">
                        <span class="text-2xl font-orbitron font-bold text-white tracking-widest">+94 76 061 8217</span>
                        <button id="copy-btn" onclick="copyPhoneNumber()"
                            class="text-gold hover:text-white transition-colors" title="Copy Number">
                            <i class="fa-regular fa-copy text-xl"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-4">
                    <div
                        class="flex items-start gap-3 text-sm text-gray-300 font-rajdhani bg-white/5 p-3 rounded-lg border border-white/10">
                        <i class="fa-solid fa-circle-info text-gold mt-1"></i>
                        <p>Please send the exact amount to the number above via Dialog eZ Cash. Take a screenshot of the
                            transaction receipt.</p>
                    </div>

                    <a id="whatsapp-confirm-link" href="#" target="_blank" onclick="closePaymentModal()"
                        class="w-full py-4 bg-[#25D366] hover:bg-[#128C7E] text-white font-bold rounded-xl font-orbitron transition-all flex items-center justify-center gap-2 shadow-lg shadow-green-500/20">
                        <i class="fa-brands fa-whatsapp text-xl"></i> SEND PROOF ON WHATSAPP
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>

</html>